<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:p="http://primefaces.org/ui">
    <p:panelGrid columns="1" id="popupPaymentsData">
        <p:panelGrid columns="3" rendered="#{orderScreen.userPA.paymentDescriptionR}">
            <h:outputLabel value="#{messages.getString('paymentEntity.description')}"
                           for="paymentDescription"
                           styleClass="labelPF"/>
            <p:inputText id="paymentDescription"
                         value="#{orderScreen.OPM.tmpPayment.description}"
                         styleClass="inputLarge"
                         readonly="#{orderScreen.isDisabled('paymentDescription', orderScreen.OPM.edit)}"/>
            <h:message for="paymentDescription" errorClass="error"/>
        </p:panelGrid>

        <p:panelGrid columns="3" rendered="#{orderScreen.userPA.paymentAmountR}">
            <h:outputLabel value="#{messages.getString('paymentEntity.amount')}"
                           for="paymentAmount"
                           styleClass="labelPF"/>
            <p:inputNumber id="paymentAmount"
                           value="#{orderScreen.OPM.tmpPayment.amount}"
                           inputStyleClass="inputLarge"
                           readonly="#{orderScreen.isDisabled('paymentAmount', orderScreen.OPM.edit)}"/>
            <h:message for="paymentAmount" errorClass="error"/>
        </p:panelGrid>

        <p:panelGrid columns="3" rendered="#{orderScreen.userPA.paymentDateR}">
            <h:outputLabel value="#{messages.getString('paymentEntity.date')}"
                           for="paymentDate"
                           styleClass="labelPF"/>
            <p:calendar id="paymentDate"
                        value="#{orderScreen.OPM.tmpPayment.date}"
                        locale="ru"
                        readonlyInput="true"
                        pattern="#{messages.getString('datePattern')}"
                        showOn="button"
                        disabled="#{orderScreen.isDisabled('paymentDate', orderScreen.OPM.edit)}"
                        styleClass="calendarPF"
                    />
            <h:message for="paymentDate" errorClass="error"/>
        </p:panelGrid>
    </p:panelGrid>

    <HR/>

    <p>
        <p:commandButton value="#{messages.getString('button.save')}"
                         actionListener="#{orderScreen.OPM.save}"
                         update=":mainForm:panel:payments, :mainForm:panel:paid, :mainForm:panel:popupPaymentsData, :mainForm:growl"
                         styleClass="buttonPF"
                />
        <p:commandButton value="#{messages.getString('button.cancel')}"
                         onclick="PF('popupPayments').hide()"
                         styleClass="buttonPF"/>
    </p>
</ui:composition>