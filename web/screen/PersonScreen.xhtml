<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="../template/application.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:rich="http://richfaces.org/rich"
                xmlns:a4j="http://richfaces.org/a4j">

    <ui:define name="title">
        <h:outputText value="#{messages.getString('personScreen.title')}"/>
    </ui:define>
    <ui:define name="headerMenu"/>


    <ui:define name="body">
        <h:outputText style="font-size: 16px; font-weight: bold"
                value="#{personScreen.edit ? messages.getString('personScreen.editText') : messages.getString('personScreen.addText')}"/>

        <HR/>

        <h:message for="panel" infoClass="info" errorClass="error"/>
        <h:panelGrid id="panel" columns="3">

            <h:outputLabel value="#{messages.getString('personEntity.lastName')}" for="lastName"/>
            <h:inputText id="lastName" value="#{personScreen.person.lastName}"/>
            <h:message for="lastName" errorClass="error"/>

            <h:outputLabel value="#{messages.getString('personEntity.firstName')}" for="firstName"/>
            <h:inputText id="firstName" value="#{personScreen.person.firstName}"/>
            <h:message for="firstName" errorClass="error"/>

            <h:outputLabel value="#{messages.getString('personEntity.email')}" for="email"/>
            <h:inputText id="email" value="#{personScreen.person.email}"/>
            <h:message for="email" errorClass="error"/>

            <h:outputLabel value="#{messages.getString('personEntity.login')}" for="login"/>
            <h:inputText id="login" value="#{personScreen.person.login}"/>
            <h:message for="login" errorClass="error"/>

            <h:outputLabel value="#{messages.getString('personEntity.password')}" for="password"/>
            <h:inputText id="password" value="#{personScreen.person.password}"/>
            <h:message for="password" errorClass="error"/>

            <h:outputLabel value="#{messages.getString('personEntity.active')}" for="active"/>
            <h:selectBooleanCheckbox id="active" value="#{personScreen.person.active}"/>
            <h:message for="active" errorClass="error"/>

        </h:panelGrid>

        <HR/>

        <p>
            <h:outputLabel value="#{messages.getString('personEntity.roles')}" for="roles"/>
        </p>

        <p>
            <rich:pickList id="roles"
                           value="#{personScreen.person.roles}"
                           converter="#{roleConverter}"
                           listHeight="160px"
                           listWidth="200px"
                           sourceCaption="#{messages.getString('personScreen.roles.available')}"
                           targetCaption="#{messages.getString('personScreen.roles.selected')}"
                           copyAllControlLabel="#{messages.getString('pickList.copyAllControlLabel')}"
                           copyControlLabel="#{messages.getString('pickList.copyControlLabel')}"
                           removeAllControlLabel="#{messages.getString('pickList.removeAllControlLabel')}"
                           removeControlLabel="#{messages.getString('pickList.removeControlLabel')}">

                <f:selectItems value="#{personScreen.roleSourceList}" var="row" itemValue="#{row}"
                               itemLabel="#{row.name}"/>
            </rich:pickList>
        </p>

        <HR/>

        <p>
            <a4j:commandButton value="#{messages.getString('button.saveAndExit')}" action="#{personScreen.saveAndExit}"
                               render="mainForm"/>
            <a4j:commandButton value="#{messages.getString('button.save')}" action="#{personScreen.saveOnly}"
                               render="mainForm"/>
            <a4j:commandButton value="#{messages.getString('button.cancel')}" action="#{personScreen.exit}"/>
        </p>
    </ui:define>
</ui:composition>
